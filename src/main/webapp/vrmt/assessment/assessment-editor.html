<div class="col-xs-12 col-lg-4 e-reporting-panel-wide assessment-editor" style="z-index: 999"
     ng-hide="assessCreate.hide" ng-controller="AssessmentEditorController as assessCreate">

    <div class="panel-group">
        <div class="panel panel-default">
            <div class="panel-heading">
                <div>
                    <button type="button" class="close" x-ng-click="assessCreate.dismiss()">x</button>
                </div>
                <h4>Risk assessment for {{assessCreate.chosenLocation()}}</h4>
            </div>
            <div class="panel-body">
                <table class="table table-condensed borderless-table">
                    <tr>
                        <th>Risk factor</th>
                        <th>Data source</th>
                        <th>Value</th>
                        <th>Score</th>
                    </tr>
                    <tr ng-repeat="factorAssessment in assessCreate.factorAssessments">
                        <td>{{factorAssessment.name}}</td>
                        <td><source-label source="factorAssessment.model.source"></source-label></td>
                        <td>
                            <!--suppress XmlDuplicatedId -->
                            <select ng-if="factorAssessment.hasChoices" class="form-control input-sm"
                                    id="{{factorAssessment.name}}"
                                    ng-model="factorAssessment.model"
                                    ng-options="model.name for model in factorAssessment.scoreOptions">
                            </select>
                            <!--suppress XmlDuplicatedId -->
                            <input ng-if="!factorAssessment.hasChoices" type="number" class="form-control input-sm"
                                   id="{{factorAssessment.name}}"
                                   ng-model="factorAssessment.model.index"
                                   min="{{factorAssessment.minIndex}}" max="{{factorAssessment.maxIndex}}"/>

                        </td>
                        <td>{{factorAssessment.model.index}}</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                        <td>
                            <label for="note">Note:</label>
                            <textarea class="form-control" rows="3" id="note" ng-model="assessCreate.note"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                        <td>
                            <button class="btn btn-default btn-sm" ng-click="assessCreate.save()">Save</button>
                            <button class="btn btn-default btn-sm" ng-click="assessCreate.dismiss()">Cancel</button>

                        </td>
                        <td><index-color index="assessCreate.sum()"></index-color></td>
                    </tr>
                </table>
                </div>
            </div>
        </div>
    </div>
</div>